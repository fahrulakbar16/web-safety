import{d as g,j as N,u as B,e as l,o as d,b as w,a as e,g as a,z as I,t as u,l as j,m as p,f as n,h as m,v as f,A as F,F as P,i as A,w as E,I as G}from"./app-Fb0LGyY_.js";import{_ as K}from"./AppLayout-D0XbQ-km.js";import{_ as T}from"./Breadcrumb-CJPocqqf.js";import"./FlashMessage-CgKw3-1-.js";import"./useColors-BxdDnFDF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"flex flex-col gap-3 px-3 h-full"},R={class:"flex justify-between items-center h-10"},C={class:"flex flex-col gap-6 p-6 overflow-auto rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},L={class:"text-2xl font-bold text-gray-900 dark:text-white"},$={class:"space-y-4"},J={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},W={class:"space-y-1 text-sm"},O={key:0,class:"text-sm text-red-500"},z={class:"space-y-1 text-sm"},H={key:0,class:"text-sm text-red-500"},Q={class:"space-y-1 text-sm"},X={key:0,class:"text-sm text-red-500"},Y={class:"space-y-4"},Z={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ee={class:"space-y-1 text-sm"},te=["value"],re={key:0,class:"text-sm text-red-500"},ae={class:"space-y-1 text-sm"},se={key:0,class:"text-sm text-red-500"},oe={class:"space-y-1 text-sm"},le={key:0,class:"text-sm text-red-500"},de={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},ie={class:"space-y-1 text-sm"},ne={key:0,class:"text-sm text-red-500"},ue={class:"space-y-1 text-sm"},pe={key:0,class:"text-sm text-red-500"},me={class:"space-y-1 text-sm"},fe={key:0,class:"text-sm text-red-500"},ge={class:"space-y-1 text-sm"},xe={key:0,class:"text-sm text-red-500"},ce={class:"space-y-4"},ke={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},ye={class:"space-y-1 text-sm"},be={class:"flex flex-col gap-2"},ve={key:0,class:"flex-shrink-0"},_e=["src"],he={key:0,class:"text-sm text-red-500"},we={class:"space-y-1 text-sm"},Fe={class:"flex flex-col gap-2"},Pe={key:0,class:"flex-shrink-0"},Me=["src"],Ue={key:0,class:"text-sm text-red-500"},De={class:"space-y-1 text-sm"},Ve={class:"flex flex-col gap-2"},Se={key:0,class:"flex-shrink-0"},Ne=["src"],Be={key:0,class:"text-sm text-red-500"},Ie={class:"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-600"},je=["disabled"],Ae={key:0},Ee={key:1},Le=Object.assign({layout:K},{__name:"Edit",props:{driver:Object,companies:Array},setup(b){const i=b,M=[{label:"Menu Utama"},{label:"Driver",url:route("drivers.index")},{label:`Edit ${i.driver.name}`}],c=g(null),k=g(null),y=g(null),v=g(null),_=g(null),h=g(null);N(()=>{i.driver.foto_ktp&&(c.value=i.driver.foto_ktp),i.driver.foto_sim&&(k.value=i.driver.foto_sim),i.driver.foto_diri&&(y.value=i.driver.foto_diri)});const r=B({company_id:i.driver.company_id||"",name:i.driver.name||"",alamat:i.driver.alamat||"",no_hp:i.driver.no_hp||"",no_ktp:i.driver.no_ktp||"",no_sim:i.driver.no_sim||"",foto_ktp:null,foto_sim:null,foto_diri:null,status:i.driver.status||"pending",email:i.driver.user?.email||"",username:i.driver.user?.username||"",password:""}),U=o=>{const t=o.target.files[0];if(t){v.value=t;const s=new FileReader;s.onload=x=>{c.value=x.target.result},s.readAsDataURL(t)}},D=o=>{const t=o.target.files[0];if(t){_.value=t;const s=new FileReader;s.onload=x=>{k.value=x.target.result},s.readAsDataURL(t)}},V=o=>{const t=o.target.files[0];if(t){h.value=t;const s=new FileReader;s.onload=x=>{y.value=x.target.result},s.readAsDataURL(t)}},S=()=>{const o=new FormData;o.append("company_id",r.company_id),o.append("name",r.name),o.append("alamat",r.alamat||""),o.append("no_hp",r.no_hp),o.append("no_ktp",r.no_ktp),o.append("no_sim",r.no_sim||""),o.append("status",r.status),o.append("email",r.email),o.append("username",r.username),r.password&&o.append("password",r.password),v.value&&o.append("foto_ktp",v.value),_.value&&o.append("foto_sim",_.value),h.value&&o.append("foto_diri",h.value),o.append("_method","PUT"),r.transform(()=>o).post(route("drivers.update",i.driver.id),{forceFormData:!0,onSuccess:()=>{}})};return(o,t)=>(d(),l(P,null,[w(a(I),{title:`Edit ${b.driver.name}`},null,8,["title"]),e("div",q,[e("div",R,[w(T,{items:M})]),e("div",C,[e("h1",L," Edit Driver: "+u(b.driver.name),1),e("form",{onSubmit:j(S,["prevent"]),class:"space-y-6"},[e("div",$,[t[13]||(t[13]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Informasi Akun ",-1)),e("div",J,[e("div",W,[t[10]||(t[10]=e("label",{for:"email",class:"text-gray-900 dark:text-white"},[m(" Email "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=s=>a(r).email=s),type:"email",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan email",required:""},null,512),[[f,a(r).email]]),a(r).errors.email?(d(),l("div",O,u(a(r).errors.email),1)):n("",!0)]),e("div",z,[t[11]||(t[11]=e("label",{for:"username",class:"text-gray-900 dark:text-white"},[m(" Username "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"username","onUpdate:modelValue":t[1]||(t[1]=s=>a(r).username=s),type:"text",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan username",required:""},null,512),[[f,a(r).username]]),a(r).errors.username?(d(),l("div",H,u(a(r).errors.username),1)):n("",!0)]),e("div",Q,[t[12]||(t[12]=e("label",{for:"password",class:"text-gray-900 dark:text-white"}," Password (Kosongkan jika tidak ingin mengubah) ",-1)),p(e("input",{id:"password","onUpdate:modelValue":t[2]||(t[2]=s=>a(r).password=s),type:"password",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan password baru (min. 8 karakter)"},null,512),[[f,a(r).password]]),a(r).errors.password?(d(),l("div",X,u(a(r).errors.password),1)):n("",!0)])])]),e("div",Y,[t[23]||(t[23]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Informasi Driver ",-1)),e("div",Z,[e("div",ee,[t[15]||(t[15]=e("label",{for:"company_id",class:"text-gray-900 dark:text-white"},[m(" Perusahaan "),e("span",{class:"text-red-500"},"*")],-1)),p(e("select",{id:"company_id","onUpdate:modelValue":t[3]||(t[3]=s=>a(r).company_id=s),class:"block p-2.5 w-full text-sm text-gray-600 rounded-lg border-gray-400 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[t[14]||(t[14]=e("option",{value:""},"Pilih Perusahaan",-1)),(d(!0),l(P,null,A(i.companies,s=>(d(),l("option",{key:s.id,value:s.id},u(s.name),9,te))),128))],512),[[F,a(r).company_id]]),a(r).errors.company_id?(d(),l("div",re,u(a(r).errors.company_id),1)):n("",!0)]),e("div",ae,[t[16]||(t[16]=e("label",{for:"name",class:"text-gray-900 dark:text-white"},[m(" Nama Driver "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"name","onUpdate:modelValue":t[4]||(t[4]=s=>a(r).name=s),type:"text",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan nama driver",required:""},null,512),[[f,a(r).name]]),a(r).errors.name?(d(),l("div",se,u(a(r).errors.name),1)):n("",!0)])]),e("div",oe,[t[17]||(t[17]=e("label",{for:"alamat",class:"text-gray-900 dark:text-white"},[m(" Alamat "),e("span",{class:"text-red-500"},"*")],-1)),p(e("textarea",{id:"alamat","onUpdate:modelValue":t[5]||(t[5]=s=>a(r).alamat=s),rows:"3",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan alamat driver",required:""},null,512),[[f,a(r).alamat]]),a(r).errors.alamat?(d(),l("div",le,u(a(r).errors.alamat),1)):n("",!0)]),e("div",de,[e("div",ie,[t[18]||(t[18]=e("label",{for:"no_hp",class:"text-gray-900 dark:text-white"},[m(" Nomor HP "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"no_hp","onUpdate:modelValue":t[6]||(t[6]=s=>a(r).no_hp=s),type:"text",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"08xxxxxxxxxx",required:""},null,512),[[f,a(r).no_hp]]),a(r).errors.no_hp?(d(),l("div",ne,u(a(r).errors.no_hp),1)):n("",!0)]),e("div",ue,[t[19]||(t[19]=e("label",{for:"no_ktp",class:"text-gray-900 dark:text-white"},[m(" Nomor KTP "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"no_ktp","onUpdate:modelValue":t[7]||(t[7]=s=>a(r).no_ktp=s),type:"text",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan nomor KTP",required:""},null,512),[[f,a(r).no_ktp]]),a(r).errors.no_ktp?(d(),l("div",pe,u(a(r).errors.no_ktp),1)):n("",!0)]),e("div",me,[t[20]||(t[20]=e("label",{for:"no_sim",class:"text-gray-900 dark:text-white"}," Nomor SIM ",-1)),p(e("input",{id:"no_sim","onUpdate:modelValue":t[8]||(t[8]=s=>a(r).no_sim=s),type:"text",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan nomor SIM"},null,512),[[f,a(r).no_sim]]),a(r).errors.no_sim?(d(),l("div",fe,u(a(r).errors.no_sim),1)):n("",!0)])]),e("div",ge,[t[22]||(t[22]=e("label",{for:"status",class:"text-gray-900 dark:text-white"},[m(" Status "),e("span",{class:"text-red-500"},"*")],-1)),p(e("select",{id:"status","onUpdate:modelValue":t[9]||(t[9]=s=>a(r).status=s),class:"block p-2.5 w-full text-sm text-gray-600 rounded-lg border-gray-400 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[...t[21]||(t[21]=[e("option",{value:"pending"},"Menunggu Verifikasi",-1),e("option",{value:"active"},"Aktif",-1),e("option",{value:"inactive"},"Tidak Aktif",-1)])],512),[[F,a(r).status]]),a(r).errors.status?(d(),l("div",xe,u(a(r).errors.status),1)):n("",!0)])]),e("div",ce,[t[30]||(t[30]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Upload Foto ",-1)),e("div",ke,[e("div",ye,[t[25]||(t[25]=e("label",{for:"foto_ktp",class:"text-gray-900 dark:text-white"}," Foto KTP ",-1)),e("div",be,[c.value?(d(),l("div",ve,[e("img",{src:c.value,alt:"Foto KTP Preview",class:"w-full h-32 object-contain border border-gray-200 rounded-lg dark:border-gray-600"},null,8,_e)])):n("",!0),e("input",{type:"file",accept:"image/*",onChange:U,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[24]||(t[24]=e("p",{class:"text-xs text-gray-500"}," Format: JPG, PNG, GIF, WEBP. Maks. 2MB ",-1))]),a(r).errors.foto_ktp?(d(),l("div",he,u(a(r).errors.foto_ktp),1)):n("",!0)]),e("div",we,[t[27]||(t[27]=e("label",{for:"foto_sim",class:"text-gray-900 dark:text-white"}," Foto SIM ",-1)),e("div",Fe,[k.value?(d(),l("div",Pe,[e("img",{src:k.value,alt:"Foto SIM Preview",class:"w-full h-32 object-contain border border-gray-200 rounded-lg dark:border-gray-600"},null,8,Me)])):n("",!0),e("input",{type:"file",accept:"image/*",onChange:D,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[26]||(t[26]=e("p",{class:"text-xs text-gray-500"}," Format: JPG, PNG, GIF, WEBP. Maks. 2MB ",-1))]),a(r).errors.foto_sim?(d(),l("div",Ue,u(a(r).errors.foto_sim),1)):n("",!0)]),e("div",De,[t[29]||(t[29]=e("label",{for:"foto_diri",class:"text-gray-900 dark:text-white"}," Foto Diri ",-1)),e("div",Ve,[y.value?(d(),l("div",Se,[e("img",{src:y.value,alt:"Foto Diri Preview",class:"w-full h-32 object-contain border border-gray-200 rounded-lg dark:border-gray-600"},null,8,Ne)])):n("",!0),e("input",{type:"file",accept:"image/*",onChange:V,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[28]||(t[28]=e("p",{class:"text-xs text-gray-500"}," Format: JPG, PNG, GIF, WEBP. Maks. 2MB ",-1))]),a(r).errors.foto_diri?(d(),l("div",Be,u(a(r).errors.foto_diri),1)):n("",!0)])])]),e("div",Ie,[w(a(G),{href:o.route("drivers.index"),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:E(()=>[...t[31]||(t[31]=[m(" Batal ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:a(r).processing,class:"px-4 py-2 text-white rounded btn-primary disabled:opacity-50"},[a(r).processing?(d(),l("span",Ae,"Menyimpan...")):(d(),l("span",Ee,"Simpan Perubahan"))],8,je)])],32)])])],64))}});export{Le as default};
