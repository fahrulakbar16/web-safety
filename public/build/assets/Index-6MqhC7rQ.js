import{d as b,x as I,y as h,e as l,o as d,b as c,a as e,g as s,z as F,c as f,f as y,w,I as _,m as O,v as z,n as u,h as D,t as x,F as T,i as H,l as P}from"./app-Fb0LGyY_.js";import{_ as q,u as L}from"./AppLayout-D0XbQ-km.js";import{P as Y,T as G,_ as R}from"./ConfirmModal-C6RkZeQO.js";import{S as W,U as E,D as $,_ as J}from"./Pagination-B1qWbbua.js";import{E as K}from"./EditIcon-D9Qdkj8G.js";import{S as Q}from"./ShowIcon-DuF_TRPa.js";import{_ as X}from"./Breadcrumb-CJPocqqf.js";import"./FlashMessage-CgKw3-1-.js";import"./useColors-BxdDnFDF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"flex flex-col gap-3 px-3 h-full"},ee={class:"flex justify-between items-center h-10"},te={class:"h-[90%] grid-cols-12 gap-4 md:gap-6 overflow-hidden rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},re={class:"flex flex-col gap-2 px-8 py-1 sm:flex-row sm:items-center sm:justify-between"},ae={class:"flex gap-3 items-center"},se={class:"relative py-2"},oe={class:"absolute left-4 top-1/2 -translate-y-1/2"},de={class:"px-8 border-b border-gray-200 dark:border-gray-600"},ne={class:"flex gap-4 -mb-px"},ie={key:0,class:"px-2 py-0.5 ml-2 text-xs text-primary bg-primary/10 rounded-full"},le={key:0,class:"px-2 py-0.5 ml-2 text-xs text-green-600 bg-green-100 rounded-full dark:bg-green-900 dark:text-green-300"},ce={key:0,class:"px-2 py-0.5 ml-2 text-xs text-red-600 bg-red-100 rounded-full dark:bg-red-900 dark:text-red-300"},ge={class:"overflow-auto","data-simplebar":""},ye={class:"min-w-full text-sm"},ue={class:"flex gap-2 justify-center items-center px-3"},xe={class:"flex flex-col items-center"},me={class:"flex gap-2 justify-center items-center px-3"},pe={class:"flex flex-col items-center"},be={key:0,class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},fe={class:"py-2.5 border border-gray-200 dark:border-gray-600"},ve={class:"flex justify-center items-center whitespace-nowrap"},ke={class:"px-3 text-gray-500 dark:text-gray-400"},he={class:"py-2.5 border border-gray-200 dark:border-gray-600"},we={class:"flex gap-3 items-center whitespace-nowrap ps-5"},_e={class:"flex flex-col leading-tight"},De={class:"font-medium text-gray-800 dark:text-white/90"},Ce={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Se={class:"flex justify-center items-center px-3"},je=["title"],Be={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Ie={class:"flex justify-center items-center px-3"},Te=["src","alt"],Ee={key:1,class:"text-gray-400 text-xs"},$e={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Ue={class:"flex justify-center items-center px-3 whitespace-nowrap"},Ae={class:"py-2.5 border border-gray-200 dark:border-gray-600"},Me={class:"flex justify-center items-center px-3 text-gray-500 whitespace-nowrap dark:text-gray-400"},Ne={key:0,class:"py-2.5 border border-gray-200 dark:border-gray-600"},Ve={class:"flex gap-3 justify-center px-4 whitespace-nowrap sm:px-0"},Fe=["onClick"],Oe={key:1},ze=["colspan"],Xe=Object.assign({layout:q},{__name:"Index",props:{events:Object,search:String,status:String,statusCounts:Object,sortBy:String,sortDirection:String},setup(a){const g=a,{can:n}=L(),U=[{label:"Menu Utama"},{label:"Event"}],i=b(g.status||"all"),v=o=>g.statusCounts&&g.statusCounts[o]||0;function C({sortBy:o=g.sortBy,sortDirection:t=g.sortDirection}={}){h.get(route("events.index"),{search:m.value,status:i.value,sortBy:o,sortDirection:t},{preserveScroll:!0,preserveState:!0,replace:!0})}const m=b(g.search||"");let S=null;I(m,()=>{clearTimeout(S),S=setTimeout(()=>{C()},400)}),I(i,()=>{new URL(window.location.href).searchParams.delete("page"),h.get(route("events.index"),{search:m.value,status:i.value,sortBy:g.sortBy,sortDirection:g.sortDirection},{preserveScroll:!0,preserveState:!0,replace:!0})});function j(o){let t="asc";g.sortBy===o&&g.sortDirection==="asc"&&(t="desc"),C({sortBy:o,sortDirection:t})}const A=o=>o?new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(o)):"-",p=b(null),k=b(!1),M=o=>{n("events.delete")&&(p.value=o,k.value=!0)},B=()=>{p.value=null,k.value=!1},N=()=>{n("events.delete")&&h.delete(route("events.destroy",p.value.id),{onSuccess:()=>{B()},preserveScroll:!0})};return(o,t)=>(d(),l(T,null,[c(s(F),{title:"Daftar Event"}),e("div",Z,[e("div",ee,[c(X,{items:U}),s(n)("events.create")?(d(),f(s(_),{key:0,href:o.route("events.create"),class:"flex gap-2 items-center px-3 py-2 text-white rounded btn-primary"},{default:w(()=>[c(Y),t[6]||(t[6]=e("span",{class:"hidden text-sm md:block"},"Tambah Event",-1))]),_:1},8,["href"])):y("",!0)]),e("div",te,[e("div",re,[t[7]||(t[7]=e("div",{class:"font-bold text-gray-700 md:text-xl dark:text-gray-300"}," Daftar Event ",-1)),e("div",ae,[e("div",se,[e("div",oe,[c(W,{class:"text-gray-400"})]),O(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),type:"text",placeholder:"Cari event",class:"h-10 w-full rounded-lg border border-gray-200 bg-transparent py-2.5 pl-12 pr-4 text-sm text-gray-800 placeholder:text-gray-400 focus:border-blue-300 focus:outline-hidden focus:ring-3 focus:ring-blue-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white/90 dark:placeholder:text-gray-400 dark:focus:border-blue-800 xl:w-[200px]"},null,512),[[z,m.value]])])])]),e("div",de,[e("nav",ne,[e("button",{onClick:t[1]||(t[1]=r=>i.value="all"),class:u(["px-4 py-2 text-sm font-medium border-b-2 transition-colors",i.value==="all"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[t[8]||(t[8]=D(" Semua ",-1)),i.value==="all"?(d(),l("span",ie,x(v("all")),1)):y("",!0)],2),e("button",{onClick:t[2]||(t[2]=r=>i.value="active"),class:u(["px-4 py-2 text-sm font-medium border-b-2 transition-colors",i.value==="active"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[t[9]||(t[9]=D(" Aktif ",-1)),i.value==="active"?(d(),l("span",le,x(v("active")),1)):y("",!0)],2),e("button",{onClick:t[3]||(t[3]=r=>i.value="inactive"),class:u(["px-4 py-2 text-sm font-medium border-b-2 transition-colors",i.value==="inactive"?"border-red-500 text-red-600 dark:text-red-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[t[10]||(t[10]=D(" Tidak Aktif ",-1)),i.value==="inactive"?(d(),l("span",ce,x(v("inactive")),1)):y("",!0)],2)])]),e("div",ge,[e("table",ye,[e("thead",null,[e("tr",null,[t[14]||(t[14]=e("th",{class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"flex flex-col items-center font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," No. ")])],-1)),e("th",{onClick:t[4]||(t[4]=r=>j("name")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",ue,[t[11]||(t[11]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Nama Event ",-1)),e("div",xe,[c(E,{class:u(["-mb-1",a.sortBy==="name"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),c($,{class:u(["-mt-1",a.sortBy==="name"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),t[15]||(t[15]=e("th",{class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Deskripsi ")])],-1)),t[16]||(t[16]=e("th",{class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Gambar ")])],-1)),t[17]||(t[17]=e("th",{class:"py-3 bg-gray-100 border border-gray-200 dark:border-gray-600 dark:bg-gray-800"},[e("div",{class:"flex justify-center items-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Status ")])],-1)),e("th",{onClick:t[5]||(t[5]=r=>j("created_at")),class:"py-3 bg-gray-100 border border-gray-200 cursor-pointer dark:border-gray-600 dark:bg-gray-800"},[e("div",me,[t[12]||(t[12]=e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Dibuat ",-1)),e("div",pe,[c(E,{class:u(["-mb-1",a.sortBy==="created_at"&&a.sortDirection==="asc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"]),c($,{class:u(["-mt-1",a.sortBy==="created_at"&&a.sortDirection==="desc"?"text-gray-900 dark:text-gray-200":"text-gray-400 dark:text-gray-500"])},null,8,["class"])])])]),s(n)("events.view")||s(n)("events.edit")||s(n)("events.delete")?(d(),l("th",be,[...t[13]||(t[13]=[e("div",{class:"flex justify-center items-center"},[e("p",{class:"font-medium text-gray-500 whitespace-nowrap dark:text-gray-400"}," Aksi ")],-1)])])):y("",!0)])]),e("tbody",null,[a.events.data&&a.events.data.length>0?(d(!0),l(T,{key:0},H(a.events.data,(r,V)=>(d(),l("tr",{key:r.id,class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800"},[e("td",fe,[e("div",ve,[e("p",ke,x((a.events.current_page-1)*a.events.per_page+V+1)+". ",1)])]),e("td",he,[e("div",we,[e("div",_e,[e("p",De,x(r.name),1)])])]),e("td",Ce,[e("div",Se,[e("p",{class:"text-gray-500 dark:text-gray-400 line-clamp-2",title:r.description||"-"},x(r.description||"-"),9,je)])]),e("td",Be,[e("div",Ie,[r.image?(d(),l("img",{key:0,src:r.image,alt:r.name,class:"object-cover w-12 h-12 rounded",loading:"lazy"},null,8,Te)):(d(),l("span",Ee," - "))])]),e("td",$e,[e("div",Ue,[e("span",{class:u(["px-3 py-1 rounded-full text-xs font-medium",r.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"])},x(r.status==="active"?"Aktif":"Tidak Aktif"),3)])]),e("td",Ae,[e("div",Me,[e("span",null,x(A(r.created_at)),1)])]),s(n)("events.view")||s(n)("events.edit")||s(n)("events.delete")?(d(),l("td",Ne,[e("div",Ve,[s(n)("events.view")?(d(),f(s(_),{key:0,href:o.route("events.show",r.id),class:"text-blue-500 hover:text-blue-600",title:"Detail"},{default:w(()=>[c(Q)]),_:1},8,["href"])):y("",!0),s(n)("events.edit")?(d(),f(s(_),{key:1,href:o.route("events.edit",r.id),class:"text-yellow-500 hover:text-yellow-600",title:"Edit"},{default:w(()=>[c(K)]),_:1},8,["href"])):y("",!0),s(n)("events.delete")?(d(),l("button",{key:2,onClick:P(He=>M(r),["stop"]),class:"text-red-500 hover:text-red-600",title:"Hapus"},[c(G)],8,Fe)):y("",!0)])])):y("",!0)]))),128)):(d(),l("tr",Oe,[e("td",{colspan:s(n)("events.view")||s(n)("events.edit")||s(n)("events.delete")?7:6,class:"py-6 font-medium text-center text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-600"}," Tidak ada event ditemukan ",8,ze)]))])]),c(R,{show:k.value,question:"Yakin ingin menghapus",selected:`${p.value?.name}`,title:"Hapus Event",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:B,onConfirm:N},null,8,["show","selected"])]),a.events.data&&a.events.data.length>0?(d(),f(J,{key:0,pagination:a.events},null,8,["pagination"])):y("",!0)])])],64))}});export{Xe as default};
