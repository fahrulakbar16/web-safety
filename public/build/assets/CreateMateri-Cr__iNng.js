import{d as b,u as V,e as s,o as l,b as f,a as r,g as a,z as F,l as T,f as d,m as g,h as n,v,t as u,A as U,w as B,I as C,F as S}from"./app-Fb0LGyY_.js";import{_ as j}from"./AppLayout-D0XbQ-km.js";import{_ as N}from"./Breadcrumb-CJPocqqf.js";import{s as D}from"./quill.snow-nIBTaXsV.js";import"./FlashMessage-CgKw3-1-.js";import"./useColors-BxdDnFDF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"flex flex-col gap-3 px-3 h-full"},q={class:"flex justify-between items-center h-10"},A={class:"flex flex-col gap-6 p-6 overflow-auto rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},O={class:"space-y-1 text-sm"},P={key:0,class:"text-sm text-red-500"},$={class:"space-y-1 text-sm"},E={key:0,class:"text-sm text-red-500"},R={class:"space-y-1 text-sm"},z={key:0,class:"text-sm text-red-500"},K={key:0,class:"space-y-1 text-sm"},L={key:0,class:"text-sm text-red-500"},W={key:1,class:"space-y-1 text-sm"},G={class:"flex flex-col gap-2"},H={key:0,class:"flex-shrink-0"},J=["src"],Q={key:1,class:"text-xs text-gray-500"},X={key:0,class:"text-sm text-red-500"},Y={class:"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-600"},Z=["disabled"],ee={key:0},te={key:1},ne=Object.assign({layout:j},{__name:"CreateMateri",props:{event:Object},setup(m){const y=m,k=[{label:"Menu Utama"},{label:"Event",url:route("events.index")},{label:y.event.name,url:route("events.show",y.event.id)},{label:"Tambah Materi"}],p=b(null),i=b(null),c=b(null),e=V({urutan:1,name:"",type:"text",description:"",file:null}),h=()=>{e.type==="text"?(c.value=null,p.value=null,i.value=null):e.type==="video"&&(e.description="")},w=x=>{const t=x.target.files[0];if(t)if(c.value=t,p.value=t.name,t.type.startsWith("video/")){const o=new FileReader;o.onload=M=>{i.value=M.target.result},o.readAsDataURL(t)}else i.value=null},_=()=>{e.urutan=parseInt(e.urutan)||1,e.type==="video"?(e.file=c.value,c.value||delete e.file):delete e.file,e.post(route("events.materis.store",y.event.id),{forceFormData:!0,onSuccess:()=>{}})};return(x,t)=>(l(),s(S,null,[f(a(F),{title:`Tambah Materi - ${m.event.name}`},null,8,["title"]),r("div",I,[r("div",q,[f(N,{items:k})]),r("div",A,[t[12]||(t[12]=r("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Tambah Materi Baru ",-1)),r("form",{onSubmit:T(_,["prevent"]),class:"space-y-6"},[r("div",O,[t[4]||(t[4]=r("label",{for:"urutan",class:"text-gray-900 dark:text-white"},[n(" Urutan "),r("span",{class:"text-red-500"},"*")],-1)),g(r("input",{id:"urutan","onUpdate:modelValue":t[0]||(t[0]=o=>a(e).urutan=o),type:"number",min:"1",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan urutan",required:""},null,512),[[v,a(e).urutan]]),a(e).errors.urutan?(l(),s("div",P,u(a(e).errors.urutan),1)):d("",!0)]),r("div",$,[t[5]||(t[5]=r("label",{for:"name",class:"text-gray-900 dark:text-white"},[n(" Nama Materi "),r("span",{class:"text-red-500"},"*")],-1)),g(r("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=o=>a(e).name=o),type:"text",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan nama materi",required:""},null,512),[[v,a(e).name]]),a(e).errors.name?(l(),s("div",E,u(a(e).errors.name),1)):d("",!0)]),r("div",R,[t[7]||(t[7]=r("label",{for:"type",class:"text-gray-900 dark:text-white"},[n(" Tipe "),r("span",{class:"text-red-500"},"*")],-1)),g(r("select",{id:"type","onUpdate:modelValue":t[2]||(t[2]=o=>a(e).type=o),onChange:h,class:"block p-2.5 w-full text-sm text-gray-600 rounded-lg border-gray-400 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},[...t[6]||(t[6]=[r("option",{value:"text"},"Text",-1),r("option",{value:"video"},"Video",-1)])],544),[[U,a(e).type]]),a(e).errors.type?(l(),s("div",z,u(a(e).errors.type),1)):d("",!0)]),a(e).type==="text"?(l(),s("div",K,[t[8]||(t[8]=r("label",{for:"description",class:"text-gray-900 dark:text-white"},[n(" Konten Materi "),r("span",{class:"text-red-500"},"*")],-1)),f(a(D),{modelValue:a(e).description,"onUpdate:modelValue":t[3]||(t[3]=o=>a(e).description=o),editorStyle:"min-height: 300px",pt:{root:{class:"w-full"},toolbar:{class:"dark:bg-gray-700 dark:border-gray-600"},content:{class:"dark:bg-gray-700 dark:text-white"}}},null,8,["modelValue"]),a(e).errors.description?(l(),s("div",L,u(a(e).errors.description),1)):d("",!0)])):d("",!0),a(e).type==="video"?(l(),s("div",W,[t[10]||(t[10]=r("label",{for:"file",class:"text-gray-900 dark:text-white"},[n(" File Video "),r("span",{class:"text-red-500"},"*")],-1)),r("div",G,[p.value||i.value?(l(),s("div",H,[i.value?(l(),s("video",{key:0,src:i.value,controls:"",class:"w-full h-64 object-contain border border-gray-200 rounded-lg dark:border-gray-600"},null,8,J)):p.value?(l(),s("p",Q," File terpilih: "+u(p.value),1)):d("",!0)])):d("",!0),r("input",{id:"file",type:"file",accept:"video/*",onChange:w,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[9]||(t[9]=r("p",{class:"text-xs text-gray-500"}," Format: MP4, AVI, MOV. Maks. 10MB ",-1))]),a(e).errors.file?(l(),s("div",X,u(a(e).errors.file),1)):d("",!0)])):d("",!0),r("div",Y,[f(a(C),{href:x.route("events.show",m.event.id),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:B(()=>[...t[11]||(t[11]=[n(" Batal ",-1)])]),_:1},8,["href"]),r("button",{type:"submit",disabled:a(e).processing,class:"px-4 py-2 text-white rounded btn-primary disabled:opacity-50"},[a(e).processing?(l(),s("span",ee,"Menyimpan...")):(l(),s("span",te,"Simpan"))],8,Z)])],32)])])],64))}});export{ne as default};
