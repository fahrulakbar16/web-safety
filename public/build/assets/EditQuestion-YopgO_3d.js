import{u as w,e as n,o as d,b as y,a as e,g as s,z as j,l as U,m as u,f as p,h as b,v as x,t as m,F as f,i as V,q,w as C,I as O}from"./app-Fb0LGyY_.js";import{_ as S}from"./AppLayout-D0XbQ-km.js";import{_ as B}from"./Breadcrumb-CJPocqqf.js";import"./FlashMessage-CgKw3-1-.js";import"./useColors-BxdDnFDF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex flex-col gap-3 px-3 h-full"},E={class:"flex justify-between items-center h-10"},F={class:"flex flex-col gap-6 p-6 overflow-auto rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},$={class:"space-y-1 text-sm"},A={key:0,class:"text-sm text-red-500"},N={class:"space-y-1 text-sm"},T={key:0,class:"text-sm text-red-500"},D={class:"space-y-4"},L={class:"flex justify-between items-center"},I={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},J=["onClick"],P={class:"grid grid-cols-12 gap-3"},z={class:"col-span-2"},H=["onUpdate:modelValue"],Q={class:"col-span-8"},G=["onUpdate:modelValue"],K={class:"col-span-2 flex items-end"},R={class:"flex items-center gap-2 cursor-pointer"},W=["onUpdate:modelValue"],X={key:0,class:"text-sm text-red-500"},Y={class:"flex gap-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-600"},Z=["disabled"],ee={key:0},te={key:1},de=Object.assign({layout:S},{__name:"EditQuestion",props:{event:Object,exam:Object,question:Object},setup(c){const r=c,h=[{label:"Menu Utama"},{label:"Event",url:route("events.index")},{label:r.event.name,url:route("events.show",r.event.id)},{label:`Ujian: ${r.exam.name}`,url:route("events.exams.show",[r.event.id,r.exam.id])},{label:"Edit Soal"}],t=w({urutan:r.question.urutan||null,soal:r.question.soal||"",options:r.question.options?.map(o=>({id:o.id,opsi:o.opsi,jawaban:o.jawaban,is_correct:o.is_correct||!1}))||[{opsi:"A",jawaban:"",is_correct:!1},{opsi:"B",jawaban:"",is_correct:!1}]}),k=()=>{const a=["A","B","C","D","E","F"][t.options.length]||String.fromCharCode(65+t.options.length);t.options.push({opsi:a,jawaban:"",is_correct:!1})},_=o=>{t.options.length>2&&t.options.splice(o,1)},v=()=>{t.urutan&&(t.urutan=parseInt(t.urutan)),t.transform(o=>({...o,_method:"PUT"})).post(route("events.exams.questions.update",[r.event.id,r.exam.id,r.question.id]),{onSuccess:()=>{}})};return(o,a)=>(d(),n(f,null,[y(s(j),{title:`Edit Soal - ${c.exam.name}`},null,8,["title"]),e("div",M,[e("div",E,[y(B,{items:h})]),e("div",F,[a[9]||(a[9]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Edit Soal ",-1)),e("form",{onSubmit:U(v,["prevent"]),class:"space-y-6"},[e("div",$,[a[2]||(a[2]=e("label",{for:"urutan",class:"text-gray-900 dark:text-white"},[b(" Urutan "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{id:"urutan","onUpdate:modelValue":a[0]||(a[0]=l=>s(t).urutan=l),type:"number",min:"1",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan urutan"},null,512),[[x,s(t).urutan]]),s(t).errors.urutan?(d(),n("div",A,m(s(t).errors.urutan),1)):p("",!0)]),e("div",N,[a[3]||(a[3]=e("label",{for:"soal",class:"text-gray-900 dark:text-white"},[b(" Soal "),e("span",{class:"text-red-500"},"*")],-1)),u(e("textarea",{id:"soal","onUpdate:modelValue":a[1]||(a[1]=l=>s(t).soal=l),rows:"4",class:"w-full text-sm font-medium placeholder-gray-500 text-gray-600 rounded-lg border-gray-400 placeholder:font-normal dark:border-white dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Masukkan pertanyaan",required:""},null,512),[[x,s(t).soal]]),s(t).errors.soal?(d(),n("div",T,m(s(t).errors.soal),1)):p("",!0)]),e("div",D,[e("div",{class:"flex justify-between items-center"},[a[4]||(a[4]=e("label",{class:"text-sm font-medium text-gray-900 dark:text-white"},[b(" Opsi Jawaban "),e("span",{class:"text-red-500"},"*")],-1)),e("button",{type:"button",onClick:k,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400"}," + Tambah Opsi ")]),(d(!0),n(f,null,V(s(t).options,(l,g)=>(d(),n("div",{key:g,class:"p-4 border border-gray-200 rounded-lg dark:border-gray-600 space-y-3"},[e("div",L,[e("span",I," Opsi "+m(g+1),1),s(t).options.length>2?(d(),n("button",{key:0,type:"button",onClick:i=>_(g),class:"text-sm text-red-600 hover:text-red-700"}," Hapus ",8,J)):p("",!0)]),e("div",P,[e("div",z,[a[5]||(a[5]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400"}," Label (A, B, C, dll) ",-1)),u(e("input",{"onUpdate:modelValue":i=>l.opsi=i,type:"text",maxlength:"10",class:"w-full text-sm rounded-lg border-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"A",required:""},null,8,H),[[x,l.opsi]])]),e("div",Q,[a[6]||(a[6]=e("label",{class:"text-xs text-gray-600 dark:text-gray-400"}," Jawaban ",-1)),u(e("input",{"onUpdate:modelValue":i=>l.jawaban=i,type:"text",class:"w-full text-sm rounded-lg border-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Masukkan jawaban",required:""},null,8,G),[[x,l.jawaban]])]),e("div",K,[e("label",R,[u(e("input",{"onUpdate:modelValue":i=>l.is_correct=i,type:"checkbox",class:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"},null,8,W),[[q,l.is_correct]]),a[7]||(a[7]=e("span",{class:"text-xs text-gray-600 dark:text-gray-400"}," Benar ",-1))])])])]))),128)),s(t).errors.options?(d(),n("div",X,m(s(t).errors.options),1)):p("",!0)]),e("div",Y,[y(s(O),{href:o.route("events.exams.show",[c.event.id,c.exam.id]),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:C(()=>[...a[8]||(a[8]=[b(" Batal ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(t).processing,class:"px-4 py-2 text-white rounded btn-primary disabled:opacity-50"},[s(t).processing?(d(),n("span",ee,"Menyimpan...")):(d(),n("span",te,"Simpan Perubahan"))],8,Z)])],32)])])],64))}});export{de as default};
