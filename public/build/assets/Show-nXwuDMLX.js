import{_ as Y,u as q}from"./AppLayout-D0XbQ-km.js";import{E as k}from"./EditIcon-D9Qdkj8G.js";import{P as j,T as E,_ as S}from"./ConfirmModal-C6RkZeQO.js";import{S as A}from"./ShowIcon-DuF_TRPa.js";import{_ as z}from"./Breadcrumb-CJPocqqf.js";import{d as g,C as L,e as n,o as a,b as i,a as e,g as o,z as P,f as u,t as d,n as D,c as p,w as x,I as v,F as _,i as T,y as w}from"./app-Fb0LGyY_.js";import"./FlashMessage-CgKw3-1-.js";import"./useColors-BxdDnFDF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"flex flex-col gap-3 px-3 h-full"},J={class:"flex justify-between items-center h-10"},G={class:"flex gap-2"},K={class:"flex flex-col gap-6 p-6 overflow-auto rounded-lg border border-gray-200 bg-white dark:border-gray-600 dark:bg-white/[0.03]"},Q={class:"flex flex-col gap-4 md:flex-row md:items-start"},R={class:"flex-shrink-0"},X={key:0,class:"w-32 h-32 overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700"},Z=["src","alt"],ee={key:1,class:"flex items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg dark:border-gray-600"},te={class:"flex-1 space-y-4"},se={class:"text-2xl font-bold text-gray-900 dark:text-white"},ae={class:"mt-2"},re={class:"space-y-3"},ne={class:"mt-1 text-gray-900 dark:text-white"},le={class:"mt-1 text-gray-900 dark:text-white"},ie={class:"space-y-4 border-t border-gray-200 dark:border-gray-600 pt-4"},oe={class:"flex justify-between items-center"},de={key:0,class:"space-y-2"},ue={class:"flex-1"},ce={class:"flex gap-2 items-center"},me={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},xe={class:"font-medium text-gray-900 dark:text-white mt-1"},ve=["href"],fe={key:0,class:"flex gap-2"},ye=["onClick"],ge={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},he={class:"space-y-4 border-t border-gray-200 dark:border-gray-600 pt-4"},be={class:"flex justify-between items-center"},ke={key:0,class:"space-y-2"},pe={class:"flex-1"},_e={class:"font-medium text-gray-900 dark:text-white"},we={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Ce={class:"flex gap-4 mt-2 text-xs text-gray-500 dark:text-gray-400"},Me={class:"flex gap-2"},je=["onClick"],Ee={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Ne=Object.assign({layout:Y},{__name:"Show",props:{event:Object},setup(t){const c=t,{can:m}=q(),I=[{label:"Menu Utama"},{label:"Event",url:route("events.index")},{label:c.event.name}],$=l=>l?new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(l)):"-",B=()=>{w.visit(route("events.edit",c.event.id))},f=g(null),H=L(()=>c.event.event_materis?[...c.event.event_materis].sort((l,r)=>l.urutan-r.urutan):[]),h=g(!1),U=l=>{f.value=l,h.value=!0},C=()=>{f.value=null,h.value=!1},F=()=>{w.delete(route("events.materis.destroy",[c.event.id,f.value.id]),{onSuccess:C,preserveScroll:!0})},y=g(null),b=g(!1),N=l=>{y.value=l,b.value=!0},M=()=>{y.value=null,b.value=!1},O=()=>{w.delete(route("events.exams.destroy",[c.event.id,y.value.id]),{onSuccess:M,preserveScroll:!0})};return(l,r)=>(a(),n(_,null,[i(o(P),{title:`Detail ${t.event.name}`},null,8,["title"]),e("div",W,[e("div",J,[i(z,{items:I}),e("div",G,[o(m)("events.edit")?(a(),n("button",{key:0,onClick:B,type:"button",class:"flex gap-2 items-center px-3 py-2 text-yellow-600 bg-yellow-50 rounded hover:bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400"},[i(k),r[0]||(r[0]=e("span",{class:"hidden text-sm md:block"},"Edit Event",-1))])):u("",!0)])]),e("div",K,[e("div",Q,[e("div",R,[t.event.image?(a(),n("div",X,[e("img",{src:t.event.image,alt:t.event.name,class:"object-contain w-full h-full"},null,8,Z)])):(a(),n("div",ee,[...r[1]||(r[1]=[e("span",{class:"text-gray-400 text-sm"},"No Image",-1)])]))]),e("div",te,[e("div",null,[e("h1",se,d(t.event.name),1),e("div",ae,[e("span",{class:D(["px-3 py-1 rounded-full text-xs font-medium",t.event.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"])},d(t.event.status==="active"?"Aktif":"Tidak Aktif"),3)])]),e("div",re,[e("div",null,[r[2]||(r[2]=e("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Deskripsi ",-1)),e("p",ne,d(t.event.description||"-"),1)]),e("div",null,[r[3]||(r[3]=e("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Dibuat ",-1)),e("p",le,d($(t.event.created_at)),1)])])])]),e("div",ie,[e("div",oe,[r[5]||(r[5]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Materi ",-1)),o(m)("events.edit")?(a(),p(o(v),{key:0,href:l.route("events.materis.create",t.event.id),class:"flex gap-2 items-center px-3 py-2 text-white rounded btn-primary"},{default:x(()=>[i(j),r[4]||(r[4]=e("span",{class:"text-sm"},"Tambah Materi",-1))]),_:1},8,["href"])):u("",!0)]),t.event.event_materis&&t.event.event_materis.length>0?(a(),n("div",de,[(a(!0),n(_,null,T(H.value,s=>(a(),n("div",{key:s.id,class:"flex justify-between items-center p-3 border border-gray-200 rounded-lg dark:border-gray-600"},[e("div",ue,[e("div",ce,[e("span",me," Urutan: "+d(s.urutan),1),e("span",{class:D(["px-2 py-0.5 rounded text-xs font-medium",s.type==="text"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300"])},d(s.type==="text"?"Text":"Video"),3)]),e("h3",xe,d(s.name),1),s.file?(a(),n("a",{key:0,href:s.file,target:"_blank",class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 mt-1 inline-block"}," Lihat File ",8,ve)):u("",!0)]),o(m)("events.edit")?(a(),n("div",fe,[i(o(v),{href:l.route("events.materis.edit",[t.event.id,s.id]),class:"text-yellow-500 hover:text-yellow-600",title:"Edit"},{default:x(()=>[i(k)]),_:1},8,["href"]),e("button",{onClick:V=>U(s),class:"text-red-500 hover:text-red-600",title:"Hapus"},[i(E)],8,ye)])):u("",!0)]))),128))])):(a(),n("div",ge," Belum ada materi "))]),e("div",he,[e("div",be,[r[7]||(r[7]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Ujian ",-1)),o(m)("events.edit")?(a(),p(o(v),{key:0,href:l.route("events.exams.create",t.event.id),class:"flex gap-2 items-center px-3 py-2 text-white rounded btn-primary"},{default:x(()=>[i(j),r[6]||(r[6]=e("span",{class:"text-sm"},"Tambah Ujian",-1))]),_:1},8,["href"])):u("",!0)]),t.event.exams&&t.event.exams.length>0?(a(),n("div",ke,[(a(!0),n(_,null,T(t.event.exams,s=>(a(),n("div",{key:s.id,class:"flex justify-between items-center p-3 border border-gray-200 rounded-lg dark:border-gray-600"},[e("div",pe,[e("h3",_e,d(s.name),1),s.description?(a(),n("p",we,d(s.description),1)):u("",!0),e("div",Ce,[e("span",null,"Durasi: "+d(s.durasi)+" menit",1),e("span",null,"Jumlah Soal: "+d(s.jumlah_soal),1),e("span",null,"Minimal Score: "+d(s.minimal_score)+"%",1)])]),e("div",Me,[i(o(v),{href:l.route("events.exams.show",[t.event.id,s.id]),class:"text-blue-500 hover:text-blue-600",title:"Detail"},{default:x(()=>[i(A)]),_:1},8,["href"]),o(m)("events.edit")?(a(),p(o(v),{key:0,href:l.route("events.exams.edit",[t.event.id,s.id]),class:"text-yellow-500 hover:text-yellow-600",title:"Edit"},{default:x(()=>[i(k)]),_:1},8,["href"])):u("",!0),o(m)("events.edit")?(a(),n("button",{key:1,onClick:V=>N(s),class:"text-red-500 hover:text-red-600",title:"Hapus"},[i(E)],8,je)):u("",!0)])]))),128))])):(a(),n("div",Ee," Belum ada ujian "))])]),i(S,{show:h.value,question:"Yakin ingin menghapus materi",selected:`${f.value?.name}`,title:"Hapus Materi",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:C,onConfirm:F},null,8,["show","selected"]),i(S,{show:b.value,question:"Yakin ingin menghapus ujian",selected:`${y.value?.name}`,title:"Hapus Ujian",confirmText:"Ya, Hapus!",maxWidth:"md",onClose:M,onConfirm:O},null,8,["show","selected"])])],64))}});export{Ne as default};
